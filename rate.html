<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RG2K25 Elite Battle Royale - Rate Us</title>
    <link rel="icon" href="https://api.mcsrvstat.us/icon/rg2k25.mcboss.top" type="image/png">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap');
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #FFD700;
            --secondary: #FFA500;
            --accent: #FF6B35;
            --bg-dark: #0B0B0F;
            --bg-darker: #050507;
            --bg-card: #111118;
            --text-light: #E8E8E8;
            --text-dim: #A0A0A0;
            --success: #4CAF50;
            --error: #f44336;
        }

        body {
            font-family: 'Rajdhani', sans-serif;
            background: var(--bg-dark);
            color: var(--text-light);
            overflow-x: hidden;
            line-height: 1.4;
            min-height: 100vh;
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: 
                radial-gradient(circle at 20% 80%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 107, 53, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 165, 0, 0.05) 0%, transparent 50%);
            animation: bgShift 15s ease-in-out infinite;
        }

        @keyframes bgShift {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1rem 2rem;
            background: rgba(11, 11, 15, 0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 215, 0, 0.2);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            font-weight: 900;
            color: var(--primary);
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .home-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-light);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 107, 53, 0.1));
            border: 1px solid rgba(255, 215, 0, 0.3);
        }

        .home-btn:hover {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 107, 53, 0.2));
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.3);
        }

        /* Main Content */
        .main-content {
            padding: 8rem 2rem 4rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .page-title {
            font-family: 'Orbitron', monospace;
            font-size: 3.5rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 50px rgba(255, 215, 0, 0.3);
        }

        .page-subtitle {
            text-align: center;
            font-size: 1.3rem;
            color: var(--text-dim);
            margin-bottom: 3rem;
        }

        /* Rating Form */
        .rating-container {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05), rgba(255, 107, 53, 0.05));
            border: 1px solid rgba(255, 215, 0, 0.2);
            border-radius: 25px;
            padding: 3rem;
            backdrop-filter: blur(10px);
            margin-bottom: 3rem;
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-label {
            display: block;
            font-weight: 600;
            font-size: 1.1rem;
            color: var(--primary);
            margin-bottom: 0.8rem;
        }

        .form-input {
            width: 100%;
            padding: 1rem 1.5rem;
            background: rgba(255, 215, 0, 0.1);
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            color: var(--text-light);
            font-size: 1rem;
            font-family: 'Rajdhani', sans-serif;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
        }

        .form-input::placeholder {
            color: var(--text-dim);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* Star Rating */
        .star-rating {
            display: flex;
            gap: 0.5rem;
            justify-content: center;
            margin: 1rem 0;
        }

        .star {
            font-size: 2.5rem;
            color: var(--text-dim);
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .star:hover,
        .star.active {
            color: var(--primary);
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
            transform: scale(1.1);
        }

        .rating-text {
            text-align: center;
            font-size: 1.1rem;
            color: var(--text-light);
            margin-top: 1rem;
            font-weight: 600;
        }

        /* Character Counter */
        .char-counter {
            text-align: right;
            font-size: 0.9rem;
            color: var(--text-dim);
            margin-top: 0.5rem;
        }

        .char-counter.warning {
            color: var(--secondary);
        }

        .char-counter.error {
            color: var(--error);
        }

        /* Submit Button */
        .submit-btn {
            width: 100%;
            padding: 1.2rem 2rem;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            border-radius: 25px;
            color: var(--bg-dark);
            font-size: 1.2rem;
            font-weight: 700;
            font-family: 'Orbitron', monospace;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
        }

        .submit-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* API Promotion */
        .api-promotion {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(255, 215, 0, 0.1));
            border: 1px solid rgba(255, 107, 53, 0.3);
            border-radius: 25px;
            padding: 3rem;
            backdrop-filter: blur(10px);
            margin-bottom: 3rem;
            text-align: center;
        }

        .api-title {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 1rem;
        }

        .api-description {
            font-size: 1.1rem;
            color: var(--text-light);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .api-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .api-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-light);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            padding: 1rem 2rem;
            border-radius: 25px;
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(255, 215, 0, 0.2));
            border: 1px solid rgba(255, 107, 53, 0.5);
        }

        .api-link:hover {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.3), rgba(255, 215, 0, 0.3));
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 107, 53, 0.3);
        }

        /* Status Messages */
        .status-message {
            padding: 1rem 2rem;
            border-radius: 15px;
            margin: 1rem 0;
            font-weight: 600;
            text-align: center;
        }

        .status-success {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid var(--success);
            color: var(--success);
        }

        .status-error {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid var(--error);
            color: var(--error);
        }

        /* Thank You Screen */
        .thank-you-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--bg-dark), var(--bg-darker));
            z-index: 9999;
            display: none;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
        }

        .thank-you-screen.active {
            display: flex;
        }

        .thank-you-content {
            max-width: 800px;
            animation: thankYouFadeIn 1s ease-out;
        }

        @keyframes thankYouFadeIn {
            0% {
                opacity: 0;
                transform: translateY(50px) scale(0.9);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .thank-you-title {
            font-family: 'Orbitron', monospace;
            font-size: 4rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 50px rgba(255, 215, 0, 0.5);
            margin-bottom: 1rem;
            animation: titleGlow 2s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            0% {
                text-shadow: 0 0 50px rgba(255, 215, 0, 0.5);
            }
            100% {
                text-shadow: 0 0 80px rgba(255, 215, 0, 0.8);
            }
        }

        .thank-you-subtitle {
            font-size: 1.5rem;
            color: var(--text-light);
            margin-bottom: 2rem;
            font-weight: 600;
        }

        .thank-you-message {
            font-size: 1.2rem;
            color: var(--text-dim);
            line-height: 1.6;
            margin-bottom: 3rem;
        }

        .rating-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin: 2rem 0;
            font-size: 1.3rem;
        }

        .rating-stars-large {
            font-size: 2.5rem;
            color: var(--primary);
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
        }

        .thank-you-actions {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .thank-you-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-light);
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            padding: 1rem 2rem;
            border-radius: 25px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 107, 53, 0.2));
            border: 1px solid rgba(255, 215, 0, 0.5);
            cursor: pointer;
            font-family: 'Rajdhani', sans-serif;
            font-size: 1.1rem;
        }

        .thank-you-btn:hover {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.3), rgba(255, 107, 53, 0.3));
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.3);
        }

        .thank-you-btn.primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--bg-dark);
            border-color: var(--primary);
        }

        .thank-you-btn.primary:hover {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.5);
        }
        .footer {
            padding: 4rem 2rem 2rem;
            background: var(--bg-darker);
            text-align: center;
            border-top: 1px solid rgba(255, 215, 0, 0.2);
            margin-top: auto;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .page-title {
                font-size: 2.5rem;
            }

            .rating-container,
            .api-promotion {
                padding: 2rem 1.5rem;
            }

            .star {
                font-size: 2rem;
            }

            .api-links {
                flex-direction: column;
                align-items: center;
            }

            .nav-content {
                flex-direction: column;
                gap: 1rem;
            }

            .main-content {
                padding-top: 10rem;
            }
        }
    </style>
</head>
<body>
    <div class="bg-animation"></div>
    
    <nav>
        <div class="nav-content">
            <div class="logo">RG2K25</div>
            <a href="/" class="home-btn">
                <i>🏠</i>
                Home
            </a>
        </div>
    </nav>

    <main class="main-content">
        <h1 class="page-title">Rate Our Server</h1>
        <p class="page-subtitle">Help us improve by sharing your experience!</p>
        
        <div class="rating-container">
            <form id="ratingForm">
                <div class="form-group">
                    <label class="form-label">Your Rating</label>
                    <div class="star-rating" id="starRating">
                        <span class="star" data-rating="1">★</span>
                        <span class="star" data-rating="2">★</span>
                        <span class="star" data-rating="3">★</span>
                        <span class="star" data-rating="4">★</span>
                        <span class="star" data-rating="5">★</span>
                    </div>
                    <div class="rating-text" id="ratingText">Click to rate</div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="playerName">In-Game Player Name *</label>
                    <input type="text" id="playerName" class="form-input" placeholder="Enter your Minecraft username" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="email">Email Address *</label>
                    <input type="email" id="email" class="form-input" placeholder="your@email.com" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="discordId">Discord ID *</label>
                    <input type="text" id="discordId" class="form-input" placeholder="123456789012345678" required>
                    <small style="color: var(--text-dim); font-size: 0.9rem;">
                        Don't know your Discord ID? Right-click your profile in Discord and select "Copy User ID"
                    </small>
                </div>

                <div class="form-group">
                    <label class="form-label" for="comment">Your Comment</label>
                    <textarea id="comment" class="form-input form-textarea" placeholder="Tell us about your experience on RG2K25..." maxlength="500"></textarea>
                    <div class="char-counter" id="charCounter">0/500 characters</div>
                </div>

                <div id="statusMessage"></div>

                <button type="submit" class="submit-btn" id="submitBtn">
                    Submit Rating
                </button>
            </form>
        </div>

        <div class="api-promotion">
            <h2 class="api-title">Discord Message API</h2>
            <p class="api-description">
                Integrate Discord messaging into your projects with our secure API! 
                Features URL authentication, owner verification, and comprehensive usage logging.
                Perfect for server notifications, automated messages, and community engagement.
            </p>
            <div class="api-links">
                <a href="https://discord.gg/cQQybxV8xW" class="api-link" target="_blank">
                    <i>💬</i>
                    Join Discord
                </a>
                <a href="https://dms-api.mcboss.top/main" class="api-link" target="_blank">
                    <i>🔗</i>
                    API Documentation
                </a>
                <a href="https://dms-api.mcboss.top/" class="api-link" target="_blank">
                    <i>⚡</i>
                    API Status
                </a>
            </div>
        </div>
    </main>

    <!-- Thank You Screen -->
    <div class="thank-you-screen" id="thankYouScreen">
        <div class="thank-you-content">
            <h1 class="thank-you-title">THANK YOU!</h1>
            <p class="thank-you-subtitle">Your rating has been submitted successfully</p>
            
            <div class="rating-display">
                <span>Your Rating:</span>
                <span class="rating-stars-large" id="thankYouStars"></span>
                <span id="thankYouRatingText"></span>
            </div>
            
            <div class="thank-you-message">
                <p>We truly appreciate your feedback, <strong id="thankYouPlayerName"></strong>!</p>
                <p>Your review helps us improve RG2K25 and create a better gaming experience for all warriors.</p>
                <p>The battle continues - see you in the arena!</p>
            </div>
            
            <div class="thank-you-actions">
                <a href="/" class="thank-you-btn primary">
                    <i>🏠</i>
                    Back to Home
                </a>
                <a href="/playerlist.html" class="thank-you-btn">
                    <i>👥</i>
                    View Players
                </a>
                <button class="thank-you-btn" onclick="resetForm()">
                    <i>⭐</i>
                    Rate Again
                </button>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p>© 2025 RG2K25 Elite Battle Royale. Dominate or be dominated.<br>Not affiliated with Mojang Studios or Microsoft.</p>
    </footer>

    <script>
        const API_KEY = 'iNjgvg9o0np4R9ztoX6GhdYn3Z9XIW2A';
        const API_BASE_URL = 'https://dms-api.mcboss.top/api';
        
        let selectedRating = 0;
        const ratingTexts = {
            0: 'Click to rate',
            1: 'Poor - Needs major improvement',
            2: 'Fair - Could be better',
            3: 'Good - Solid experience',
            4: 'Very Good - Great server!',
            5: 'Excellent - Amazing experience!'
        };

        // Star rating functionality
        const stars = document.querySelectorAll('.star');
        const ratingText = document.getElementById('ratingText');

        stars.forEach((star, index) => {
            star.addEventListener('click', () => {
                selectedRating = index + 1;
                updateStarDisplay();
                ratingText.textContent = ratingTexts[selectedRating];
            });

            star.addEventListener('mouseenter', () => {
                highlightStars(index + 1);
            });
        });

        document.getElementById('starRating').addEventListener('mouseleave', () => {
            updateStarDisplay();
        });

        function highlightStars(rating) {
            stars.forEach((star, index) => {
                star.classList.toggle('active', index < rating);
            });
        }

        function updateStarDisplay() {
            highlightStars(selectedRating);
        }

        // Character counter
        const commentTextarea = document.getElementById('comment');
        const charCounter = document.getElementById('charCounter');

        commentTextarea.addEventListener('input', () => {
            const length = commentTextarea.value.length;
            charCounter.textContent = `${length}/500 characters`;
            
            charCounter.classList.remove('warning', 'error');
            if (length > 400) {
                charCounter.classList.add('warning');
            }
            if (length > 450) {
                charCounter.classList.add('error');
            }
        });

        // Form submission
        const form = document.getElementById('ratingForm');
        const submitBtn = document.getElementById('submitBtn');
        const statusMessage = document.getElementById('statusMessage');

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (selectedRating === 0) {
                showStatus('Please select a rating before submitting.', 'error');
                return;
            }

            const formData = {
                rating: selectedRating,
                playerName: document.getElementById('playerName').value.trim(),
                email: document.getElementById('email').value.trim(),
                discordId: document.getElementById('discordId').value.trim(),
                comment: document.getElementById('comment').value.trim()
            };

            // Validate required fields
            if (!formData.playerName || !formData.email || !formData.discordId) {
                showStatus('Please fill in all required fields.', 'error');
                return;
            }

            // Validate Discord ID format
            if (!/^\d{17,19}$/.test(formData.discordId)) {
                showStatus('Please enter a valid Discord ID (17-19 digits).', 'error');
                return;
            }

            await submitRating(formData);
        });

        async function submitRating(data) {
            submitBtn.disabled = true;
            submitBtn.textContent = 'Submitting...';

            try {
                // Create the message for Discord
                const message = `🌟 **New Server Rating** 🌟
**Player:** ${data.playerName}
**Email:** ${data.email}
**Rating:** ${'⭐'.repeat(data.rating)} (${data.rating}/5)
**Comment:** ${data.comment || 'No comment provided'}
**Submitted:** ${new Date().toLocaleString()}`;

                // Use the correct POST /send endpoint
                const apiUrl = `${API_BASE_URL}/${API_KEY}/send`;
                
                const requestBody = {
                    email: data.email,
                    message: message,
                    discord_id: data.discordId
                };

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestBody)
                });

                if (response.ok) {
                    const result = await response.json();
                    console.log('API Response:', result);
                    showThankYouScreen(data);
                } else {
                    const errorResponse = await response.json();
                    console.error('API Error Response:', errorResponse);
                    throw new Error(errorResponse.error || `API Error: ${response.status}`);
                }
            } catch (error) {
                console.error('Error submitting rating:', error);
                showStatus(`Failed to submit rating: ${error.message}. Please try again later or contact support.`, 'error');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Submit Rating';
            }
        }

        function showStatus(message, type) {
            statusMessage.innerHTML = `<div class="status-message status-${type}">${message}</div>`;
            statusMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            
            if (type === 'success') {
                setTimeout(() => {
                    statusMessage.innerHTML = '';
                }, 5000);
            }
        }
    </script>
</body>
</html>
